<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>„É¨„Ç∏‰ºöË®à</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
</head>
<body>
    <div id="app">
        <!-- HOME SCREEN -->
        <div v-if="currentView === 'home'" class="home-screen">
            <header class="header home-header">
                <div class="header-left">
                    <!-- No left content in image -->
                </div>
                <div class="header-center">
                    <span>„É°„Éã„É•„Éº</span>
                </div>
                <div class="header-right">
                    <span>{{ currentDate }}</span>
                    <span>{{ staffName }}</span>
                </div>
            </header>
            <div class="home-container">
                <aside class="sidebar">
                    <div class="sidebar-item" @click="navigateTo('tables')">
                        <div class="sidebar-text">„Ç™„Éº„ÉÄ„Éº„Éª<br>‰ºöË®à</div>
                        <div class="sidebar-icon">üõãÔ∏è</div> <!-- Placeholder icon -->
                    </div>
                    <div class="sidebar-item">
                        <div class="sidebar-text">Âç≥‰ºöË®à</div>
                        <div class="sidebar-icon">üì†</div> <!-- Placeholder icon -->
                    </div>
                    <div class="sidebar-item">
                        <div class="sidebar-text">‰ºùÁ•®ÊòéÁ¥∞</div>
                    </div>
                     <div class="sidebar-item has-arrow">
                        <div class="sidebar-text">ÂÖ•Âá∫Èáë</div>
                    </div>
                    <div class="sidebar-item">
                        <div class="sidebar-text">„Éâ„Ç¢„Ç™„Éº„Éó„É≥</div>
                    </div>
                    <div class="sidebar-item has-arrow">
                        <div class="sidebar-text">„É¨„Ç∏„ÇØ„É≠„Éº„Ç∫</div>
                    </div>
                     <div class="sidebar-item has-arrow">
                        <div class="sidebar-text">Ë®≠ÂÆö</div>
                    </div>

                    <div class="sidebar-footer" @click="console.log('logout')">
                         <span>‚Ü™ „É≠„Ç∞„Ç¢„Ç¶„Éà</span>
                    </div>
                </aside>
                <main class="home-main">
                    <div class="notification-bar">
                         <span class="notification-icon">‚úâ</span> „ÅäÁü•„Çâ„Åõ„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ
                    </div>
                    <div class="notification-line"></div>
                    <div class="clock-widget">
                        <div class="clock-circle">
                            <!-- Simple SVG or CSS circle -->
                             <div class="clock-hand hour-hand"></div>
                             <div class="clock-hand minute-hand"></div>
                        </div>
                        <div class="time-display">15:49</div>
                        <div class="weather-display">
                            <span class="weather-icon">‚òÅÔ∏è/‚òÄÔ∏è</span>
                            <span class="temp">9¬∞C</span>
                        </div>
                         <div class="footer-alert">
                            <span class="dots">‚óè ‚óè</span> <a href="#">„ÄêÈáçË¶Å„ÄëÂøÖ„Åö„ÅîÁ¢∫Ë™ç„Åè„Å†„Åï„ÅÑ üó®Ô∏è</a>
                        </div>
                    </div>
                </main>
            </div>
        </div>

        <!-- TABLE LIST SCREEN -->
        <div v-if="currentView === 'tables'" class="tables-screen">
             <header class="header">
                <div class="header-left">
                    <span @click="navigateTo('home')">&lt; „É°„Éã„É•„Éº</span>
                </div>
                <div class="header-center">
                    <span>„ÉÜ„Éº„Éñ„É´‰∏ÄË¶ß</span>
                </div>
                <div class="header-right">
                    <span>{{ currentDate }}</span>
                    <span>{{ staffName }}</span>
                </div>
            </header>
            <div class="tables-container">
                <div class="table-grid">
                    <div v-for="table in tables" :key="table.id"
                         class="table-card"
                         :class="table.status"
                         @click="handleTableClick(table)">
                        <div class="table-header">
                            <span class="table-name">{{ table.name }}</span>
                            <span v-if="table.people > 0" class="table-people">üë§ {{ table.people }}</span>
                            <span v-if="table.amount > 0" class="table-amount-small">(¬•{{ table.amount.toLocaleString() }})</span>
                        </div>
                        <div class="table-body">
                             <div v-if="table.amount > 0" class="table-total">¬•{{ table.amount.toLocaleString() }}</div>
                             <div v-if="table.time" class="table-time">
                                <span>üì≤ {{ table.time }}</span>
                                <span class="duration">‚è±Ô∏è {{ table.duration }}</span>
                             </div>
                        </div>
                        <div class="table-footer" v-if="table.status !== 'empty'">
                            <span v-if="table.status === 'ordered' || table.status === 'ordered-alert'">„Ç™„Éº„ÉÄ„ÉºÊ∏à</span>
                            <span v-if="table.status === 'served'" style="background: #ffcc00; color: #333;">ÈÖçËÜ≥Ê∏à</span>
                            <span v-if="table.status === 'checkout'">ÂàÜÂâ≤‰ºöË®à‰∏≠</span>
                        </div>
                    </div>
                </div>
                <div class="tables-footer-actions">
                    <button class="btn-refresh">Êõ¥Êñ∞</button>
                </div>
            </div>
        </div>

        <!-- REGISTER SCREEN (Existing) -->
        <div v-if="currentView === 'register'" class="register-screen">
             <header class="header">
                <div class="header-left">
                    <span @click="navigateTo('tables')">&lt; „ÉÜ„Éº„Éñ„É´</span>
                </div>
                <div class="header-center">
                    <span style="font-size: 1.5rem;">üî∞</span>
                    <span>„É¨„Ç∏‰ºöË®à</span>
                </div>
                <div class="header-right">
                    <span>{{ currentDate }}</span>
                    <span>{{ staffName }}</span>
                </div>
            </header>

            <div class="main-container">
                <!-- Left Panel -->
                <div class="panel left-panel">
                    <div class="staff-row">
                        <span>ÊãÖÂΩìËÄÖ {{ staffName }}</span>
                        <button class="btn-settings">Ë®≠ÂÆö</button>
                    </div>
                    <button class="btn-order" @click="handleOrder">Ê≥®Êñá</button>

                    <div class="order-area">
                        <div>
                            Ê≥®Êñá„Éú„Çø„É≥„ÇíÊäº„Åó„Å¶<br>
                            „É°„Éã„É•„Éº„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
                        </div>
                    </div>

                    <div class="left-bottom-buttons">
                        <button class="btn-cancel">ÂèñÂºï‰∏≠Ê≠¢</button>
                        <button class="btn-memo">ÊîØÊâï„É°„É¢</button>
                    </div>
                </div>

                <!-- Center Panel -->
                <div class="panel center-panel">
                    <div class="summary-rows">
                        <div class="summary-row">
                            <span>Â∞èË®à</span>
                            <span>{{ formatCurrency(subtotal) }}</span>
                        </div>
                        <div class="summary-row">
                            <span>„Çµ„Éº„Éì„ÇπÊñôÈáë</span>
                            <span>{{ formatCurrency(serviceCharge) }}</span>
                        </div>
                        <div class="summary-row">
                            <span>Ê∑±Â§úÊñôÈáë</span>
                            <span>{{ formatCurrency(lateNightCharge) }}</span>
                        </div>
                    </div>

                    <div class="summary-divider-dashed"></div>

                    <div class="summary-row">
                        <span>ÂÄ§ÂºïÂºïË®à</span>
                        <span>{{ formatCurrency(discountTotal) }}</span>
                    </div>

                    <div style="flex-grow: 0.1;"></div>

                    <div class="summary-divider"></div>

                    <div class="total-amount-row">
                        <span>„ÅäÊîØÊâï„ÅÑÈáëÈ°ç</span>
                        <span style="font-size: 1.5rem;">{{ formatCurrency(totalAmount) }}</span>
                    </div>
                    <div class="summary-row" style="color: #666; font-size: 0.9rem; margin-top: 5px;">
                        <span>Ê∂àË≤ªÁ®é</span>
                        <span>{{ formatCurrency(taxAmount) }}</span>
                    </div>

                    <div class="payment-list-area">
                        <div style="font-size: 0.9rem; color: #333; margin-bottom: 5px;">ÊîØÊâï</div>
                    </div>

                    <div class="summary-divider-dashed"></div>

                    <div class="bottom-summary-row text-blue">
                        <span>„ÅäÈ†ê„Åã„ÇäÈáëÈ°ç</span>
                        <span>{{ formatCurrency(receivedAmount) }}</span>
                    </div>
                    <div class="bottom-summary-row text-orange">
                        <span>ÊÆãÈ°ç</span>
                        <span>{{ formatCurrency(balanceAmount) }}</span>
                    </div>
                    <div class="summary-divider"></div>
                    <div class="bottom-summary-row text-bold" style="font-size: 1.2rem;">
                        <span>„Åä„Å§„Çä</span>
                        <span>{{ formatCurrency(changeAmount) }}</span>
                    </div>

                    <button class="btn-checkout-main">‰ºöË®à</button>
                </div>

                <!-- Right Panel -->
                <div class="panel right-panel">
                    <div class="top-action-buttons">
                        <button class="btn-action">ÂÄ§ÂºïÁôªÈå≤</button>
                        <button class="btn-action">ÈáëÂà∏</button>
                    </div>

                    <div class="summary-divider-dashed"></div>

                    <div class="payment-method-buttons">
                        <button class="btn-payment" :class="{ active: paymentMethod === 'cash' }" @click="setPaymentMethod('cash')">
                            ÁèæÈáë
                        </button>
                        <button class="btn-payment" :class="{ active: paymentMethod === 'other' }" @click="setPaymentMethod('other')">
                            „Åù„ÅÆ‰ªñÊîØÊâï
                        </button>
                    </div>

                    <div class="display-box">
                    </div>

                    <div class="black-bar">
                        {{ inputAmount }}
                    </div>

                    <div class="numpad">
                        <button class="btn-num clear" @click="handleClear">C</button>
                        <button class="btn-num balance" @click="handleBalance">ÊÆãÈ°ç</button>
                        <button class="btn-num disabled"></button>

                        <button class="btn-num" @click="handleNumClick('7')">7</button>
                        <button class="btn-num" @click="handleNumClick('8')">8</button>
                        <button class="btn-num" @click="handleNumClick('9')">9</button>

                        <button class="btn-num" @click="handleNumClick('4')">4</button>
                        <button class="btn-num" @click="handleNumClick('5')">5</button>
                        <button class="btn-num" @click="handleNumClick('6')">6</button>

                        <button class="btn-num" @click="handleNumClick('1')">1</button>
                        <button class="btn-num" @click="handleNumClick('2')">2</button>
                        <button class="btn-num" @click="handleNumClick('3')">3</button>

                        <button class="btn-num" @click="handleNumClick('0')">0</button>
                        <button class="btn-num" @click="handleNumClick('00')">00</button>
                        <button class="btn-num enter" @click="handleEnter">Ê±∫ÂÆö</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="js/app.js"></script>
</body>
</html>
